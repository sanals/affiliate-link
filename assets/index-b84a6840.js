var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertyNames,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,l=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&i(e,r,t[r]);if(n)for(var r of n(t))s.call(t,r)&&i(e,r,t[r]);return e},c=(e,o)=>t(e,r(o)),d=(e,t,r)=>new Promise(((o,n)=>{var a=e=>{try{i(r.next(e))}catch(t){n(t)}},s=e=>{try{i(r.throw(e))}catch(t){n(t)}},i=e=>e.done?o(e.value):Promise.resolve(e.value).then(a,s);i((r=r.apply(e,t)).next())}));import{r as u,g as h,u as f,i as p,j as v,a as m,b as y,c as x,P as g,T as j,B as w,d as b,e as k,C as z,S as L,A as P,f as O,h as M,k as S,M as C,I as E,l as R,m as H,n as W,R as _}from"./vendor-b44d916b.js";var A,I,T=(A={"assets/index-b84a6840.js"(e){!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t={},r=u;t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot;var o={},n={};const a=h(f);var s;function i(){return s||(s=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=a}(n)),n}var A=p;Object.defineProperty(o,"__esModule",{value:!0});var I=o.default=void 0,T=A(i()),U=v;I=o.default=(0,T.default)((0,U.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy");var F={},V=p;Object.defineProperty(F,"__esModule",{value:!0});var D=F.default=void 0,B=V(i()),N=v;D=F.default=(0,B.default)((0,N.jsx)("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z"}),"OpenInNew");var G={},$=p;Object.defineProperty(G,"__esModule",{value:!0});var K=G.default=void 0,q=$(i()),Y=v;K=G.default=(0,q.default)((0,Y.jsx)("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz");var J={},Q=p;Object.defineProperty(J,"__esModule",{value:!0});var X=J.default=void 0,Z=Q(i()),ee=v;X=J.default=(0,Z.default)((0,ee.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");const te=e=>{try{const t=(e=>{if(!e||""===e.trim())throw new Error("Please enter a URL");let t=e.trim();if(!t.startsWith("http://")&&!t.startsWith("https://")){if(!(t.startsWith("amzn.in")||t.startsWith("www.amazon.in")||t.startsWith("amzn.to")))throw new Error("Not a valid Amazon URL");t=`https://${t}`}if(!t.includes("amazon.in")&&!t.includes("amzn.in")&&!t.includes("amzn.to"))throw new Error("Not a valid Amazon URL");try{return new URL(t),t}catch(r){throw new Error("Invalid URL format")}})(e);return(e=>{try{const t=new URL(e);return t.searchParams.set("tag","syrez-21"),t.toString()}catch(t){throw new Error("Failed to add affiliate tag")}})((e=>{try{const t=new URL(e);return t.searchParams.delete("tag"),t.toString()}catch(t){throw new Error("Failed to process URL")}})(t))}catch(t){throw t}},re=t=>d(e,null,(function*(){if(!t.includes("amzn.to/"))return t;try{const e=yield fetch(t,{method:"HEAD",redirect:"follow"});if(!e.ok)throw new Error(`Failed to resolve short link: ${e.statusText}`);const r=e.url;if(!r.includes("amazon.in")&&!r.includes("amzn.in"))throw new Error("Resolved URL is not a valid Amazon URL");return r}catch(e){throw new Error("Unable to resolve short link due to browser security restrictions. Please open the link in your browser and paste the full URL here.")}})),oe=({initialUrl:t=""})=>{const r=m(),o=y(r.breakpoints.down("sm")),[n,a]=x.useState(t),[s,i]=x.useState(""),[u,h]=x.useState(null),[f,p]=x.useState(!1),[O,M]=x.useState({open:!1,message:"",severity:"success"});x.useEffect((()=>{t&&(a(t),d(e,null,(function*(){p(!0),h(null);try{let r=t.trim();if(r.includes("amzn.to/"))try{r=yield re(r)}catch(e){return h("Could not resolve short link. Please expand it manually by opening in your browser first."),void p(!1)}const o=te(r);i(o),p(!1),M({open:!0,message:"Link converted successfully!",severity:"success"})}catch(e){h(e instanceof Error?e.message:"Failed to convert link"),p(!1)}})))}),[t]);const S=()=>d(e,null,(function*(){if(n.trim()){p(!0),h(null);try{let t=n.trim();if(t.includes("amzn.to/"))try{t=yield re(t)}catch(e){return h("Could not resolve short link. Please expand it manually by opening in your browser first."),void p(!1)}const r=te(t);i(r),p(!1)}catch(e){h(e instanceof Error?e.message:"Failed to convert link"),p(!1)}}else h("Please enter an Amazon link")})),C=()=>{M(c(l({},O),{open:!1}))};return v.jsxs(g,{elevation:3,sx:{p:{xs:2,sm:3},maxWidth:"600px",width:"100%",mx:"auto",mt:2},children:[v.jsx(j,{variant:"h5",component:"h1",gutterBottom:!0,align:"center",children:"Syrez Amazon Affiliate Tool"}),v.jsxs(w,{sx:{mb:3},children:[v.jsx(b,{fullWidth:!0,label:"Paste Amazon Link",variant:"outlined",value:n,onChange:e=>{a(e.target.value),h(null)},onKeyDown:e=>{"Enter"===e.key&&n.trim()&&S()},placeholder:"https://amzn.in/d/example",error:!!u,helperText:u||"",disabled:f,sx:{mb:2}}),v.jsx(k,{fullWidth:!0,variant:"contained",color:"primary",onClick:S,disabled:!n.trim()||f,startIcon:f?v.jsx(z,{size:20,color:"inherit"}):v.jsx(K,{}),sx:{py:1.2},children:f?"Converting...":"Convert Link"})]}),s&&v.jsxs(w,{sx:{mt:4},children:[v.jsx(j,{variant:"subtitle1",gutterBottom:!0,fontWeight:"medium",children:"Affiliate Link:"}),v.jsx(b,{fullWidth:!0,variant:"outlined",value:s,InputProps:{readOnly:!0},sx:{mb:2,"& .MuiOutlinedInput-root":{bgcolor:r.palette.action.hover}}}),v.jsxs(w,{sx:{display:"flex",gap:2,flexDirection:o?"column":"row",mt:2},children:[v.jsx(k,{variant:"contained",color:"secondary",onClick:()=>d(e,null,(function*(){if(s)try{yield navigator.clipboard.writeText(s),M({open:!0,message:"Link copied to clipboard!",severity:"success"})}catch(e){M({open:!0,message:"Failed to copy link",severity:"error"})}})),startIcon:v.jsx(I,{}),fullWidth:!0,children:"Copy Link"}),v.jsx(k,{variant:"contained",color:"primary",onClick:()=>{s&&window.open(s,"_blank","noopener,noreferrer")},startIcon:v.jsx(D,{}),fullWidth:!0,children:"Open in Amazon"})]}),v.jsx(w,{sx:{mt:2},children:v.jsx(k,{variant:"outlined",color:"inherit",onClick:()=>{a(""),i(""),h(null)},startIcon:v.jsx(X,{}),fullWidth:!0,children:"Clear"})})]}),v.jsx(L,{open:O.open,autoHideDuration:3e3,onClose:C,children:v.jsx(P,{onClose:C,severity:O.severity,sx:{width:"100%"},children:O.message})})]})};var ne={},ae=p;Object.defineProperty(ne,"__esModule",{value:!0});var se=ne.default=void 0,ie=ae(i()),le=v;se=ne.default=(0,ie.default)((0,le.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6"}),"Brightness4");var ce={},de=p;Object.defineProperty(ce,"__esModule",{value:!0});var ue=ce.default=void 0,he=de(i()),fe=v;ue=ce.default=(0,he.default)((0,fe.jsx)("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"Brightness7");var pe={},ve=p;Object.defineProperty(pe,"__esModule",{value:!0});var me=pe.default=void 0,ye=ve(i()),xe=v;me=pe.default=(0,ye.default)((0,xe.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}),"ShoppingCart");const ge=({toggleTheme:e})=>{const t=m(),r="dark"===t.palette.mode;return v.jsx(M,{position:"static",elevation:0,sx:{backgroundColor:t.palette.background.paper},children:v.jsxs(S,{children:[v.jsx(me,{sx:{mr:1,color:t.palette.secondary.main}}),v.jsx(j,{variant:"h6",component:C,href:"https://syrez.co.in",underline:"none",sx:{flexGrow:1,fontWeight:"bold",color:t.palette.text.primary},children:"Syrez Affiliate Tool"}),v.jsx(w,{children:v.jsx(E,{onClick:e,color:"inherit",children:r?v.jsx(ue,{sx:{color:t.palette.text.primary}}):v.jsx(se,{sx:{color:t.palette.text.primary}})})})]})})},je=()=>{const e=m(),t=(new Date).getFullYear();return v.jsx(w,{component:"footer",sx:{py:3,px:2,mt:"auto",backgroundColor:e.palette.background.paper,borderTop:`1px solid ${e.palette.divider}`},children:v.jsxs(j,{variant:"body2",color:"text.secondary",align:"center",children:["Â© ",t," ",v.jsx(C,{color:"inherit",href:"https://syrez.co.in",underline:"hover",target:"_blank",rel:"noopener noreferrer",children:"Syrez.co.in"})," | ",v.jsx(C,{color:"inherit",href:"https://syrez.co.in/privacy",underline:"hover",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"})," | ",v.jsx(C,{color:"inherit",href:"https://syrez.co.in/contact",underline:"hover",target:"_blank",rel:"noopener noreferrer",children:"Contact"})]})})},we=()=>{const[e,t]=x.useState("light"),[r,o]=x.useState(""),[n,a]=x.useState({open:!1,message:"",severity:"success"});x.useEffect((()=>{const e=localStorage.getItem("themeMode");if(e)t(e);else{const e=window.matchMedia("(prefers-color-scheme: dark)").matches;t(e?"dark":"light")}}),[]);const s=x.useCallback((e=>{if(e.data&&"SHARE_TARGET"===e.data.type)if(e.data.url)o(e.data.url),a({open:!0,message:"Link received from share!",severity:"success"});else if(e.data.text){const t=/(https?:\/\/[^\s]+)/g,r=e.data.text.match(t);r&&r.length>0?(o(r[0]),a({open:!0,message:"Link extracted from shared text!",severity:"success"})):(o(e.data.text),a({open:!0,message:"Received shared text!",severity:"info"}))}}),[]);x.useEffect((()=>(navigator.serviceWorker.addEventListener("message",s),()=>{navigator.serviceWorker.removeEventListener("message",s)})),[s]),x.useEffect((()=>{const e=new URLSearchParams(window.location.search);e.has("share-success")&&a({open:!0,message:"Content shared successfully!",severity:"success"});const t=e.get("url"),r=e.get("text");if(t)o(t),a({open:!0,message:"Link received!",severity:"success"});else if(r){const e=/(https?:\/\/[^\s]+)/g,t=r.match(e);t&&t.length>0?(o(t[0]),a({open:!0,message:"Link extracted from shared text!",severity:"success"})):(o(r),a({open:!0,message:"Text received!",severity:"info"}))}if((t||r)&&window.history.replaceState){const e=window.location.pathname;window.history.replaceState({},document.title,e)}}),[]);const i=()=>{a((e=>c(l({},e),{open:!1})))},d=(e=>O({palette:{mode:e,primary:{main:"#1976d2",light:"#42a5f5",dark:"#1565c0"},secondary:{main:"#FF9900",light:"#ffac33",dark:"#e68a00"},background:{default:"light"===e?"#f5f5f5":"#121212",paper:"light"===e?"#ffffff":"#1e1e1e"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h5:{fontWeight:600},button:{textTransform:"none",fontWeight:600}},components:{MuiButton:{styleOverrides:{root:{borderRadius:8}}},MuiTextField:{styleOverrides:{root:{borderRadius:8}}},MuiPaper:{styleOverrides:{root:{borderRadius:12}}}}}))(e);return v.jsxs(R,{theme:d,children:[v.jsx(H,{}),v.jsxs(w,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[v.jsx(ge,{toggleTheme:()=>{const r="light"===e?"dark":"light";t(r),localStorage.setItem("themeMode",r)}}),v.jsx(W,{component:"main",sx:{mt:4,mb:4,flex:1},children:v.jsx(oe,{initialUrl:r})}),v.jsx(je,{}),v.jsx(L,{open:n.open,autoHideDuration:5e3,onClose:i,anchorOrigin:{vertical:"top",horizontal:"center"},children:v.jsx(P,{onClose:i,severity:n.severity,children:n.message})})]})]})};t.createRoot(document.getElementById("root")).render(v.jsx(_.StrictMode,{children:v.jsx(we,{})})),"serviceWorker"in navigator&&window.addEventListener("load",(()=>d(e,null,(function*(){try{const e=yield navigator.serviceWorker.register("/sw.js",{scope:"/"});e.onupdatefound=()=>{const t=e.installing;t&&(t.onstatechange=()=>{"installed"===t.state&&navigator.serviceWorker.controller})},navigator.serviceWorker.addEventListener("message",(e=>{e.data&&"SHARE_TARGET"===e.data.type&&(e.data.url?localStorage.setItem("sharedUrl",e.data.url):e.data.text&&localStorage.setItem("sharedText",e.data.text),window.location.reload())}))}catch(e){}}))))}},function(){return I||(0,A[o(A)[0]])((I={exports:{}}).exports,I),I.exports});export default T();
